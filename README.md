# 더 지니어스 - 흑과 백 (바이브코딩)

## 프로젝트 개요
실시간 1:1 심리전 게임 "흑과 백" 웹 구현입니다.  
한 세트는 최대 9라운드이며, 5승 선취 시 즉시 종료됩니다.

## 기술 스택
- Next.js (App Router)
- Tailwind CSS
- Framer Motion
- Supabase (Auth, Realtime, RPC, Postgres)
- Vercel

## 현재 구현 상태
### 인증/프로필
- Google OAuth 로그인만 지원 (이메일 로그인/회원가입 제거)
- 로그인 후 닉네임 최초 설정 플로우
- 닉네임 중복 방지 처리
- 상단 내 전적 표시 (승/패/승률)

### 로비/방
- Room 생성 / 6자리 코드 입장
- 대기실에서 호스트/게스트 닉네임, 점수, 전적 표시
- 플레이어 입장 슬롯 강조 테두리
- 게스트 준비/준비취소, 호스트 게임 시작
- Room 나가기 기능 (확인 모달 포함)

### 게임 진행
- 실시간 라운드 상태 동기화
- 타일 제출, 사용 타일 소진 처리
- 카드 비행 애니메이션
- 실시간 제출 색상 보드
- 라운드 종료 결과 테두리 강조 (승리/패배/무승부)
- 공개 라운드 로그에 닉네임 기반 승자 표시

### 게임 종료
- 승/패 중앙 연출 애니메이션
- 종료 후 라운드별 숫자 공개 보드
- 종료 화면에서 Room 복귀 / 게임 나가기 버튼
- 게임 중 이탈 시 기권 처리 및 승/패 반영
- 안내 문구 자동 페이드 아웃 처리

## 버전 관리 규칙
버전은 SemVer 스타일(`MAJOR.MINOR.PATCH`)을 사용합니다.
- `MAJOR`: 규칙/데이터 구조 호환성 깨짐
- `MINOR`: 기능 추가/흐름 확장
- `PATCH`: 버그 수정/UI 정합성 개선

## 릴리즈 노트
### v0.9.1 - 2026-02-17 (현재)
- feat: 재로그인 시 진행 중/대기 중 방을 우선 복구하도록 방 복구 기준을 개선
- feat: 종료된 오래된 방 정리 흐름을 추가해 로비 복귀 동선을 안정화
- feat: 전적 컬럼(`wins/losses`) 기준을 스키마와 앱 조회 로직에 일치시켜 전적 표시 일관성 강화
- ui: Realtime 정상 연결 시 과도한 폴링을 중단하고 비가시/불안정 상태에서만 저주기 보조 동기화 적용
- ui: 게임 규칙 문구를 실제 종료 정책(9라운드 동점 시 무승부)에 맞춰 정리
- 보완 관련 수정

### v0.9.0
- Google OAuth 단일 인증 체계로 정리
- 대기실 상호 전적 표시 구조 보강
- 게임 중/종료 후 나가기 UX 정리 및 기권 처리 안정화
- 실시간 제출 색상 보드 + 라운드 결과 테두리 시각화 강화
- 종료 후 라운드별 숫자 공개 UI 통일
- 안내 메시지 페이드 아웃 정책 통일

### 다음 버전 작성 템플릿
```md
### v0.9.1 - YYYY-MM-DD
- fix: 핵심 버그 수정 요약
- feat: 신규 기능 요약
- ui: UI/UX 변경 요약
```

## 규칙 문서
- `/Users/hhj/love_letters/docs/black-white-rules.md`
